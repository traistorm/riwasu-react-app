{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* globals navigator:false */\n\n/**\n * @module utils/env\n */\nvar userAgent = navigator.userAgent.toLowerCase();\n/**\n * A namespace containing environment and browser information.\n *\n * @namespace\n */\n\nvar env = {\n  /**\n   * Indicates that the application is running on Macintosh.\n   *\n   * @static\n   * @type {Boolean}\n   */\n  isMac: isMac(userAgent),\n\n  /**\n   * Indicates that the application is running on Windows.\n   *\n   * @static\n   * @type {Boolean}\n   */\n  isWindows: isWindows(userAgent),\n\n  /**\n   * Indicates that the application is running in Firefox (Gecko).\n   *\n   * @static\n   * @type {Boolean}\n   */\n  isGecko: isGecko(userAgent),\n\n  /**\n   * Indicates that the application is running in Safari.\n   *\n   * @static\n   * @type {Boolean}\n   */\n  isSafari: isSafari(userAgent),\n\n  /**\n   * Indicates the the application is running in iOS.\n   *\n   * @static\n   * @type {Boolean}\n   */\n  isiOS: isiOS(userAgent),\n\n  /**\n   * Indicates that the application is running on Android mobile device.\n   *\n   * @static\n   * @type {Boolean}\n   */\n  isAndroid: isAndroid(userAgent),\n\n  /**\n   * Indicates that the application is running in a browser using the Blink engine.\n   *\n   * @static\n   * @type {Boolean}\n   */\n  isBlink: isBlink(userAgent),\n\n  /**\n   * Environment features information.\n   *\n   * @memberOf module:utils/env~env\n   * @namespace\n   */\n  features: {\n    /**\n     * Indicates that the environment supports ES2018 Unicode property escapes — like `\\p{P}` or `\\p{L}`.\n     * More information about unicode properties might be found\n     * [in Unicode Standard Annex #44](https://www.unicode.org/reports/tr44/#GC_Values_Table).\n     *\n     * @type {Boolean}\n     */\n    isRegExpUnicodePropertySupported: isRegExpUnicodePropertySupported()\n  }\n};\nexport default env;\n/**\n * Checks if User Agent represented by the string is running on Macintosh.\n *\n * @param {String} userAgent **Lowercase** `navigator.userAgent` string.\n * @returns {Boolean} Whether User Agent is running on Macintosh or not.\n */\n\nexport function isMac(userAgent) {\n  return userAgent.indexOf('macintosh') > -1;\n}\n/**\n * Checks if User Agent represented by the string is running on Windows.\n *\n * @param {String} userAgent **Lowercase** `navigator.userAgent` string.\n * @returns {Boolean} Whether User Agent is running on Windows or not.\n */\n\nexport function isWindows(userAgent) {\n  return userAgent.indexOf('windows') > -1;\n}\n/**\n * Checks if User Agent represented by the string is Firefox (Gecko).\n *\n * @param {String} userAgent **Lowercase** `navigator.userAgent` string.\n * @returns {Boolean} Whether User Agent is Firefox or not.\n */\n\nexport function isGecko(userAgent) {\n  return !!userAgent.match(/gecko\\/\\d+/);\n}\n/**\n * Checks if User Agent represented by the string is Safari.\n *\n * @param {String} userAgent **Lowercase** `navigator.userAgent` string.\n * @returns {Boolean} Whether User Agent is Safari or not.\n */\n\nexport function isSafari(userAgent) {\n  return userAgent.indexOf(' applewebkit/') > -1 && userAgent.indexOf('chrome') === -1;\n}\n/**\n * Checks if User Agent represented by the string is running in iOS.\n *\n * @param {String} userAgent **Lowercase** `navigator.userAgent` string.\n * @returns {Boolean} Whether User Agent is running in iOS or not.\n */\n\nexport function isiOS(userAgent) {\n  // \"Request mobile site\" || \"Request desktop site\".\n  return !!userAgent.match(/iphone|ipad/i) || isMac(userAgent) && navigator.maxTouchPoints > 0;\n}\n/**\n * Checks if User Agent represented by the string is Android mobile device.\n *\n * @param {String} userAgent **Lowercase** `navigator.userAgent` string.\n * @returns {Boolean} Whether User Agent is Safari or not.\n */\n\nexport function isAndroid(userAgent) {\n  return userAgent.indexOf('android') > -1;\n}\n/**\n * Checks if User Agent represented by the string is Blink engine.\n *\n * @param {String} userAgent **Lowercase** `navigator.userAgent` string.\n * @returns {Boolean} Whether User Agent is Blink engine or not.\n */\n\nexport function isBlink(userAgent) {\n  // The Edge browser before switching to the Blink engine used to report itself as Chrome (and \"Edge/\")\n  // but after switching to the Blink it replaced \"Edge/\" with \"Edg/\".\n  return userAgent.indexOf('chrome/') > -1 && userAgent.indexOf('edge/') < 0;\n}\n/**\n * Checks if the current environment supports ES2018 Unicode properties like `\\p{P}` or `\\p{L}`.\n * More information about unicode properties might be found\n * [in Unicode Standard Annex #44](https://www.unicode.org/reports/tr44/#GC_Values_Table).\n *\n * @returns {Boolean}\n */\n\nexport function isRegExpUnicodePropertySupported() {\n  var isSupported = false; // Feature detection for Unicode properties. Added in ES2018. Currently Firefox does not support it.\n  // See https://github.com/ckeditor/ckeditor5-mention/issues/44#issuecomment-487002174.\n\n  try {\n    // Usage of regular expression literal cause error during build (ckeditor/ckeditor5-dev#534).\n    isSupported = 'ć'.search(new RegExp('[\\\\p{L}]', 'u')) === 0;\n  } catch (error) {// Firefox throws a SyntaxError when the group is unsupported.\n  }\n\n  return isSupported;\n}","map":null,"metadata":{},"sourceType":"module"}