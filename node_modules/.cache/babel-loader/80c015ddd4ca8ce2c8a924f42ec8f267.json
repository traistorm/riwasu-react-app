{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport getOffsetParent from './getOffsetParent';\nimport getOffset from './getOffset';\nimport getStyle from './getStyle';\nimport scrollTop from './scrollTop';\nimport scrollLeft from './scrollLeft';\nimport nodeName from './nodeName';\nexport default (function (node, offsetParent, calcMargin) {\n  if (calcMargin === void 0) {\n    calcMargin = true;\n  }\n\n  var parentOffset = {\n    top: 0,\n    left: 0\n  };\n  var offset = null; // Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n  // because it is its only offset parent\n\n  if (getStyle(node, 'position') === 'fixed') {\n    offset = node.getBoundingClientRect();\n  } else {\n    offsetParent = offsetParent || getOffsetParent(node);\n    offset = getOffset(node);\n\n    if (nodeName(offsetParent) !== 'html') {\n      var nextParentOffset = getOffset(offsetParent);\n\n      if (nextParentOffset) {\n        parentOffset.top = nextParentOffset.top;\n        parentOffset.left = nextParentOffset.left;\n      }\n    }\n\n    parentOffset.top += parseInt(getStyle(offsetParent, 'borderTopWidth'), 10) - scrollTop(offsetParent) || 0;\n    parentOffset.left += parseInt(getStyle(offsetParent, 'borderLeftWidth'), 10) - scrollLeft(offsetParent) || 0;\n  } // Subtract parent offsets and node margins\n\n\n  if (offset) {\n    var marginTop = calcMargin ? parseInt(getStyle(node, 'marginTop'), 10) || 0 : 0;\n    var marginLeft = calcMargin ? parseInt(getStyle(node, 'marginLeft'), 10) || 0 : 0;\n    return _extends({}, offset, {\n      top: offset.top - parentOffset.top - marginTop,\n      left: offset.left - parentOffset.left - marginLeft\n    });\n  }\n\n  return null;\n});","map":null,"metadata":{},"sourceType":"module"}