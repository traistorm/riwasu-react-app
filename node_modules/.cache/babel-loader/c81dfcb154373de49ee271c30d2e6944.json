{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Calendar, { CalendarState } from './Calendar';\nimport Button from '../Button';\nimport { FormattedDate } from '../CustomProvider';\nimport { useClassNames, useCustom } from '../utils';\nimport useCalendarDate from './useCalendarDate';\nvar CalendarPanel = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? Calendar : _props$as,\n      bordered = props.bordered,\n      className = props.className,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'calendar' : _props$classPrefix,\n      compact = props.compact,\n      _props$defaultValue = props.defaultValue,\n      defaultValue = _props$defaultValue === void 0 ? new Date() : _props$defaultValue,\n      isoWeek = props.isoWeek,\n      overrideLocale = props.locale,\n      onChange = props.onChange,\n      onSelect = props.onSelect,\n      renderCell = props.renderCell,\n      value = props.value,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"bordered\", \"className\", \"classPrefix\", \"compact\", \"defaultValue\", \"isoWeek\", \"locale\", \"onChange\", \"onSelect\", \"renderCell\", \"value\"]);\n\n  var _useCalendarDate = useCalendarDate(value, defaultValue),\n      calendarDate = _useCalendarDate.calendarDate,\n      setCalendarDate = _useCalendarDate.setCalendarDate;\n\n  var _useState = useState(false),\n      showMonth = _useState[0],\n      setShowMonth = _useState[1];\n\n  var _useCustom = useCustom('Calendar', overrideLocale),\n      locale = _useCustom.locale;\n\n  var handleToggleMonthDropdown = useCallback(function () {\n    setShowMonth(function (prevShowMonth) {\n      return !prevShowMonth;\n    });\n  }, []);\n  var handleChange = useCallback(function (nextValue) {\n    setCalendarDate(nextValue);\n    onChange === null || onChange === void 0 ? void 0 : onChange(nextValue);\n  }, [setCalendarDate, onChange]);\n  var handleChangePageDate = useCallback(function (nextValue) {\n    setShowMonth(false);\n    handleChange(nextValue);\n  }, [handleChange]);\n  var handleClickToday = useCallback(function () {\n    setShowMonth(false);\n    handleChange(new Date());\n  }, [handleChange]);\n  var handleSelect = useCallback(function (nextValue) {\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(nextValue);\n    handleChange(nextValue);\n  }, [handleChange, onSelect]);\n\n  var _useClassNames = useClassNames(classPrefix),\n      prefix = _useClassNames.prefix,\n      merge = _useClassNames.merge,\n      withClassPrefix = _useClassNames.withClassPrefix;\n\n  var renderToolbar = useCallback(function () {\n    return /*#__PURE__*/React.createElement(Button, {\n      className: prefix('btn-today'),\n      size: \"sm\",\n      onClick: handleClickToday\n    }, locale.today || 'Today');\n  }, [handleClickToday, locale.today, prefix]);\n  var customRenderCell = useCallback(function (date) {\n    return renderCell === null || renderCell === void 0 ? void 0 : renderCell(date);\n  }, [renderCell]);\n  var classes = merge(className, withClassPrefix('panel', {\n    bordered: bordered,\n    compact: compact\n  }));\n  return /*#__PURE__*/React.createElement(Component, _extends({}, rest, {\n    inline: true,\n    className: classes,\n    ref: ref,\n    isoWeek: isoWeek,\n    format: \"yyyy-MM-dd\",\n    calendarState: showMonth ? CalendarState.DROP_MONTH : null,\n    calendarDate: calendarDate,\n    limitEndYear: 1000,\n    locale: locale,\n    renderTitle: function renderTitle(date) {\n      return /*#__PURE__*/React.createElement(FormattedDate, {\n        date: date,\n        formatStr: locale.formattedMonthPattern || 'MMMM  yyyy'\n      });\n    },\n    renderToolbar: renderToolbar,\n    renderCell: customRenderCell,\n    onMoveForward: handleChange,\n    onMoveBackward: handleChange,\n    onToggleMonthDropdown: handleToggleMonthDropdown,\n    onChangePageDate: handleChangePageDate,\n    onSelect: handleSelect\n  }));\n});\nCalendarPanel.displayName = 'CalendarPanel';\nCalendarPanel.propTypes = {\n  value: PropTypes.instanceOf(Date),\n  defaultValue: PropTypes.instanceOf(Date),\n  isoWeek: PropTypes.bool,\n  compact: PropTypes.bool,\n  bordered: PropTypes.bool,\n  locale: PropTypes.object,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  renderCell: PropTypes.func\n};\nexport default CalendarPanel;","map":null,"metadata":{},"sourceType":"module"}