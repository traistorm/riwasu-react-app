{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 20197 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'lineHeight',\n  display: 'submenu',\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.lineHeight = {\n      _sizeList: null,\n      currentSize: -1\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector('ul');\n    /** add event listeners */\n\n    listUl.addEventListener('click', this.pickup.bind(core));\n    context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement('DIV');\n    listDiv.className = 'se-submenu se-list-layer';\n    var sizeList = !option.lineHeights ? [{\n      text: '1',\n      value: 1\n    }, {\n      text: '1.15',\n      value: 1.15\n    }, {\n      text: '1.5',\n      value: 1.5\n    }, {\n      text: '2',\n      value: 2\n    }] : option.lineHeights;\n    var list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\" aria-label=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n    for (var i = 0, len = sizeList.length, size; i < len; i++) {\n      size = sizeList[i];\n      list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\" aria-label=\"' + size.text + '\">' + size.text + '</button></li>';\n    }\n\n    list += '</ul></div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\n  * @Override submenu\n  */\n  on: function on() {\n    var lineHeightContext = this.context.lineHeight;\n    var sizeList = lineHeightContext._sizeList;\n    var format = this.util.getFormatElement(this.getSelectionNode());\n    var currentSize = !format ? '' : format.style.lineHeight + '';\n\n    if (currentSize !== lineHeightContext.currentSize) {\n      for (var i = 0, len = sizeList.length; i < len; i++) {\n        if (currentSize === sizeList[i].getAttribute('data-value')) {\n          this.util.addClass(sizeList[i], 'active');\n        } else {\n          this.util.removeClass(sizeList[i], 'active');\n        }\n      }\n\n      lineHeightContext.currentSize = currentSize;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute('data-value') || '';\n    var formats = this.getSelectedElements();\n\n    for (var i = 0, len = formats.length; i < len; i++) {\n      formats[i].style.lineHeight = value;\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}